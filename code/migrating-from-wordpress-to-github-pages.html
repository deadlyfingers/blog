<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="UTF-8">
  <meta name="description" content="How to export your Wordpress blog and setup GitHub Pages with https and custom domain.">
  <title>Migrating from Wordpress blog to GitHub Pages</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="/assets/main.css" rel="stylesheet">
  <!-- feed -->
  <link rel="alternate" title="Deadlyfingers.net" type="application/json" href="https://www.deadlyfingers.net/search/feed.json" /><link type="application/atom+xml" rel="alternate" href="https://www.deadlyfingers.net/feed.xml" title="Deadlyfingers.net" /></head><body>
  <div class="grid-container">
    <!-- nav --><div class="grid-x">
  <div class="small-6 cell">
    <h1><a href="/">Deadlyfingers.net</a></h1>
  </div>
  <div class="small-6 cell right">
    <div class="icons">
      <a class="icon twitter" href="https://twitter.com/deadlyfingers"></a>
      <a class="icon github" href="https://github.com/deadlyfingers"></a>
      <a class="icon youtube" href="https://youtube.com/deadlyfingerstv"></a>
    </div>
  </div>
  <div class="small-12 medium-6 large-3 cell"><div class="searchbar">
  <form id="search_form" method="GET" action="/search/">
    <input id="search" name="q" type="search" placeholder="search site" list="search_tags" />
    <button type="submit" value="Search"><i class="icon search"></i></button>
    <datalist id="search_tags"><option value="Azure"><option value="Blog"><option value="Wordpress"><option value="Website"><option value="Android"><option value="Mobile Services"><option value="App Store"><option value="Apps"><option value="Gaming"><option value="Windows"><option value="iPad"><option value="iPhone"><option value="Windows Phone"><option value="GameDev"><option value="Unity3d"><option value="Visual Studio"><option value="iOS"><option value="Ember-CLI"><option value="Azure-CLI"><option value="Cordova"><option value="WebApp"><option value="Design"><option value="Responsive Design"><option value="RWD"><option value="App Services"><option value="Javascript"><option value="Polymer"><option value="Web Components"><option value="Alamofire"><option value="Argo"><option value="JSON"><option value="Swift"><option value="Git"><option value="Blob Storage"><option value="Application Insights"><option value="Ibex Dashboard"><option value="Data Visualisation"><option value="Bots"><option value="Log Analytics"><option value="UWP"><option value="Web Sockets"><option value="Mixed Reality"><option value="HoloLens"><option value="IoT"><option value="VuForia"><option value="VuMark"><option value="GitHub Pages"><option value="Jekyll"><option value="Ruby"><option value="Markdown"></datalist>
  </form>
</div></div>
</div><!-- body content -->
    <div class="grid-x grid-margin-x"><div id="post" class="large-8 cell post"><time datetime="2018-10-16T00:00:00+00:00" class="date">16 Oct 2018</time><h1 class="post-title">Migrating from Wordpress blog to GitHub Pages</h1>
  <div class="post-line"></div><p>Wordpress has done a decent job of running my blog.
But I’ve longed for something leaner for writing developer code stories as the rich <strong>HTML</strong> text editor tends to introduce too much complexity.</p>

<!--more-->

<p>Initially I thought about writing a custom blog web app but decided it would be better to consider existing platforms that can handle my requirements.
Ultimately I decided to migrate my Wordpress blog to <a href="https://pages.github.com/">GitHub Pages</a>.</p>

<p>Here’s a bunch of things I like with GitHub Pages compared with my self-hosted Wordpress site:</p>

<ul>
  <li>Rather than edit posts in small scroll view I can use a desktop code editor like <a href="https://code.visualstudio.com/">VS Code</a> which supports full screen editing of text and <a href="https://code.visualstudio.com/docs/languages/markdown#_editor-and-preview-synchronization">live code preview</a>. (I’m aware this might not be everyone’s cup of tea but writing developer blog posts inside a developer tool feels right at home for me!)</li>
  <li>Markdown is much easier for writing developer documentation and inline code snippets, but I can also inject HTML when needed.</li>
  <li>Use GitHub as server - I don’t need to provide my own hosting or database. Free hosting is nice!</li>
  <li><a href="https://blog.github.com/2018-05-01-github-pages-custom-domains-https/">GitHub has partnered with Let’s Encrypt</a> so you get <strong>HTTPS</strong> for free - just check a box!</li>
  <li>
    <p>You can setup a <strong>custom domain</strong> for both an <a href="https://help.github.com/articles/setting-up-an-apex-domain/">apex domain</a> and <a href="https://help.github.com/articles/setting-up-a-www-subdomain/">www subdomain</a> and GitHub Pages will handle the redirect.</p>

    <ol>
      <li>
        <p>Add <a href="https://help.github.com/articles/setting-up-an-apex-domain/#configuring-a-records-with-your-dns-provider"><strong>A Records</strong> with your DNS provider</a> for <strong>apex domain</strong> (<em>without www.</em>):</p>

        <table>
          <thead>
            <tr>
              <th>Domain</th>
              <th>IP address</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><em>YOUR_DOMAIN</em>.com.</td>
              <td><code class="highlighter-rouge">185.199.108.153</code></td>
            </tr>
            <tr>
              <td><em>YOUR_DOMAIN</em>.com.</td>
              <td><code class="highlighter-rouge">185.199.109.153</code></td>
            </tr>
            <tr>
              <td><em>YOUR_DOMAIN</em>.com.</td>
              <td><code class="highlighter-rouge">185.199.110.153</code></td>
            </tr>
            <tr>
              <td><em>YOUR_DOMAIN</em>.com.</td>
              <td><code class="highlighter-rouge">185.199.111.153</code></td>
            </tr>
          </tbody>
        </table>
      </li>
      <li>
        <p>Add one <strong>CNAME</strong> record for <strong>www subdomain</strong>.</p>

        <table>
          <thead>
            <tr>
              <th>Domain</th>
              <th>Canonical name</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>www</td>
              <td><em>USERNAME</em>.github.io.</td>
            </tr>
          </tbody>
        </table>
      </li>
      <li>Update the GitHub Pages &gt; Settings &gt; <strong>Custom Domain</strong> field to <strong>www.<em>YOURDOMAIN</em>.com</strong> (this will add a <strong>CNAME</strong> file to the root directory in the GitHub Pages branch)</li>
      <li>You can then enable <strong>Enforce HTTPS</strong> in GitHub Pages &gt; Settings.</li>
    </ol>
  </li>
</ul>

<p>However there are some downsides during this process:</p>

<ul>
  <li>Not as easy to setup as Wordpress.</li>
  <li>Don’t expect the migration of Wordpress HTML to MD files to be perfect! In my case the conversion tool had problems preserving spacing in code blocks and some character conversions may need fixed.</li>
  <li>By default all updates will be public on github so you have to think about that if you need to support private posts.</li>
</ul>

<h2 id="how-to-migrate-from-wordpress-to-github-pages-jekyll">How to migrate from Wordpress to GitHub Pages (Jekyll)</h2>

<blockquote>
  <p>GitHub Pages is powered by <a href="https://jekyllrb.com/">Jekyll</a>. To import your Wordpress XML archive and run Jekyll locally you will need to install <a href="https://www.ruby-lang.org/en/downloads/">Ruby 2.1</a> or better.</p>
</blockquote>

<ol>
  <li>
    <p>If you are migrating an existing blog you have to export your content from the Wordpress admin control panel.</p>

    <blockquote>
      <p>The general form of the URL is as follows: <code class="highlighter-rouge">https://YOUR-USER-NAME.wordpress.com/wp-admin/export.php</code></p>
    </blockquote>
  </li>
  <li>
    <p>Import the Wordpress XML archive file as mentioned on the <a href="http://import.jekyllrb.com/docs/wordpressdotcom/">import wordpress to Jekyll docs</a></p>

    <blockquote>
      <p>Install Ruby Gems</p>
    </blockquote>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gem install jekyll-import
gem install hpricot
gem install open_uri_redirections
</code></pre></div>    </div>

    <blockquote>
      <p>Convert Wordpress XML archive to HTML files and download images to ‘assets’ directory.</p>
    </blockquote>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ruby <span class="nt">-rubygems</span> <span class="nt">-e</span> <span class="s1">'require "jekyll-import";
JekyllImport::Importers::WordpressDotCom.run({
  "source" =&gt; "C:/Users/USERNAME/Downloads/REPLACE_USING_YOUR_FILE_NAME.wordpress.YYYY-MM-DD.xml",
  "no_fetch_images" =&gt; false,
  "assets_folder" =&gt; "assets/images"
})'</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Convert HTML files to Markdown files. You can try any number of tools to see what works best for you. I tried various ones including the <a href="https://github.com/xijo/reverse_markdown">reverse_markdown</a> Ruby gem and the <a href="https://github.com/aaronsw/html2text.git">html2text</a> Python script. To help batch process the files I created a <a href="https://gist.github.com/deadlyfingers/2023c61cbac83bb613393f262693cdf4">Wordpress HTML to MD gist</a> to find any <strong>*.html</strong> files in the ‘_posts’ directory and convert them all to <strong>*.md</strong> files using <a href="https://rubygems.org/gems/reverse-markdown">reverse_markdown</a> gem.</p>

    <blockquote>
      <p><strong>‘wordpress-html-to-md.rb’</strong> gist usage:</p>
    </blockquote>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gem install reverse_markdown
</code></pre></div>    </div>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ruby ./wordpress-html-to-md.rb <span class="s2">"_posts"</span>
</code></pre></div>    </div>

    <script src="https://gist.github.com/deadlyfingers/2023c61cbac83bb613393f262693cdf4.js"></script>

    <blockquote>
      <p><strong>html2text</strong> usage:</p>
    </blockquote>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./html2text.py C:/Users/USERNAME/git/blog/_posts/YYYY-MM-DD-filename.html
</code></pre></div>    </div>

    <blockquote>
      <p>NB. Don’t use “\” in path otherwise you will get file not found error, use “/” in path instead.</p>
    </blockquote>
  </li>
  <li>
    <p>To show code syntax highlights you will need to add some styles for <a href="https://github.com/jneen/rouge">Rouge</a> (GitHub Page’s syntax highlighter). You can use Rougify to copy GitHub’s code syntax highlighting to a stylesheet.</p>
    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gem install rouge
</code></pre></div>    </div>
    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rougify style github <span class="o">&gt;</span> _sass/styles/_rouge.scss
</code></pre></div>    </div>
  </li>
</ol>

<p>After this you might decide to apply one of the <a href="https://pages.github.com/themes/">built-in GitHub Pages themes</a> or use a <a href="https://github.com/benbalter/jekyll-remote-theme">remote theme</a> or <a href="https://jekyllrb.com/docs/themes/">create your own theme</a>. In my case I added the <a href="https://foundation.zurb.com/sites/docs/xy-grid.html">Foundation XY-Grid</a> module for responsive design grid layouts. One thing I would like to see supported in GitHub Pages is support for <strong>npm packages</strong>. Everyone seems to have their own way for building this out and it would be nice just to provide a <code class="highlighter-rouge">package.json</code> file and let GitHub take take of the rest. One nice solution however might be to roll out the <code class="highlighter-rouge">node_modules</code> dependencies as part of a remote theme. But at this early stage I prefer to keep it all together in one repo until I have proved everything <em>just works</em> over time.</p>

<h2 id="resources">Resources</h2>

<p>You can find the source code of this website on my <a href="https://github.com/deadlyfingers/blog">GitHub Page’s blog repo</a>. I’ve also included a list of references below which I found useful during the creation of this new GitHub Pages blog.</p>

<h3 id="github-pages-settings">GitHub Pages settings</h3>

<ul>
  <li><a href="https://pages.github.com/">GitHub Pages</a></li>
  <li><a href="https://help.github.com/articles/user-organization-and-project-pages/#project-pages-sites">GitHub Project Pages</a></li>
  <li><a href="https://help.github.com/articles/using-jekyll-as-a-static-site-generator-with-github-pages/">Using Jekyll</a></li>
  <li><a href="https://pages.github.com/themes/">Built-in Themes</a></li>
  <li><a href="https://help.github.com/articles/configuring-jekyll-plugins/#default-plugins">Default Plugins</a></li>
  <li><a href="https://help.github.com/articles/updating-your-markdown-processor-to-kramdown/">markdown: kramdown</a></li>
  <li><a href="https://help.github.com/articles/using-syntax-highlighting-on-github-pages/">highlighter: rouge</a></li>
</ul>

<h3 id="jekyll-blog">Jekyll blog</h3>

<ul>
  <li><a href="http://import.jekyllrb.com/docs/wordpressdotcom/">Import posts from Wordpress blog</a></li>
  <li><a href="https://jekyllrb.com/docs/structure/">Jekyll structure</a></li>
  <li><a href="https://devhints.io/jekyll">Jekyll cheatsheet</a></li>
  <li><a href="https://github.com/rstacruz/cheatsheets/blob/master/jekyll.md">Jekyll md cheatsheet</a></li>
  <li><a href="https://jekyllrb.com/docs/posts/">Posts</a></li>
  <li><a href="https://jekyllrb.com/docs/assets/">Assets</a></li>
  <li><a href="https://jekyllrb.com/docs/assets/#sassscss">Sass/SCSS</a></li>
  <li><a href="http://ben.balter.com/jekyll-style-guide/themes/">Generate GitHub Rouge SASS</a></li>
  <li><a href="https://jekyllrb.com/docs/liquid/tags/#link">Linking to pages</a></li>
  <li><a href="https://shopify.github.io/liquid/basics/introduction/">Liquid template language</a></li>
</ul>

<h3 id="yml-config-reference-docs">YML Config reference docs</h3>

<ul>
  <li><a href="https://help.github.com/articles/page-build-failed-config-file-error/#troubleshooting-_configyml-syntax-errors">YML Syntax</a></li>
  <li><a href="https://jekyllrb.com/docs/configuration/default/">Jekyll Configuration</a></li>
  <li><a href="https://jekyllrb.com/docs/github-pages/">GitHub Pages setup</a></li>
  <li><a href="https://pages.github.com/versions/">GitHub Pages dependencies</a></li>
  <li><a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">List of TimeZones</a></li>
  <li><a href="https://jekyllrb.com/docs/collections/">Jekyll Collections</a></li>
</ul>

<h3 id="disqus">Disqus</h3>
<p><a href="https://disqus.com">Disqus</a> can be added to a Jekyll site to enable comments on blog posts.</p>

<ul>
  <li><a href="http://sgeos.github.io/jekyll/disqus/2016/02/15/adding-disqus-to-a-jekyll-blog.html">Adding Disqus to Jekyll blog</a></li>
  <li><a href="https://help.disqus.com/developer/javascript-configuration-variables">Disqus config</a></li>
</ul>

<h3 id="foundation">Foundation</h3>
<p>I added the <a href="https://foundation.zurb.com/sites/docs/xy-grid.html#importing">XY-Grid SASS classes</a> for responsive design layouts.</p>

<ul>
  <li><a href="https://foundation.zurb.com/sites/docs/xy-grid.html">XY-Grid</a></li>
</ul>

<h3 id="search">Search</h3>
<p>A Jekyll generated <a href="https://jsonfeed.org">JSON feed</a> can be used as the search index for <a href="https://lunrjs.com/">lunr.js</a>.</p>

<ul>
  <li><a href="https://rayhightower.com/blog/2016/01/04/how-to-make-lunrjs-jekyll-work-together/">Jekyll and lunr search</a></li>
  <li><a href="https://learn.cloudcannon.com/jekyll/jekyll-search-using-lunr-js/">Submit search query</a></li>
  <li><a href="https://jsonfeed.org/version/1">JSON feed format</a></li>
  <li><a href="https://stevenwestmoreland.com/2017/05/adding-json-feed-to-your-jekyll-site.html">Jekyll JSON feed</a></li>
</ul>

<h3 id="gulp">Gulp</h3>
<p>One <a href="https://gulpjs.com/">gulp</a> command deploys the production build to my <code class="highlighter-rouge">gh-pages</code> branch!</p>

<ul>
  <li><a href="https://www.npmjs.com/package/gulp-gh-pages">Publish build to GitHub Pages</a></li>
  <li><a href="https://www.joezimjs.com/javascript/complete-guide-upgrading-gulp-4/">gulp 3 to gulp 4 task guide</a></li>
</ul>
</div>

<div class="large-4 cell">
</div>

<div id="pagination" class="large-8 cell">
  <div>
    <a href="https://www.deadlyfingers.net/code/migrating-from-wordpress-to-github-pages">Migrating from Wordpress blog to GitHub Pages</a><span> by </span><span class="author">David Douglas</span></div>
  <ul class="tags"><li><a href="/tag/github-pages">GitHub Pages</a></li><li><a href="/tag/jekyll">Jekyll</a></li><li><a href="/tag/ruby">Ruby</a></li><li><a href="/tag/wordpress">Wordpress</a></li><li><a href="/tag/blog">Blog</a></li><li><a href="/tag/markdown">Markdown</a></li><li><a href="/tag/website">Website</a></li></ul>
</div>

<div class="large-8 cell"><!-- disqus comments --><div id="disqus_thread"></div>
<script>
  //*
  var disqus_config = function () {
    this.page.identifier =
      "/code/migrating-from-wordpress-to-github-pages";
    this.page.url = window.location.href;
  };
  //*/
  (function () {
    var d = document,
      s = d.createElement('script');
    s.async = true;
    s.src = 'https://deadlyfingers.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div>

<div class="large-12 cell">
  <div class="grid-x grid-margin-x grid-padding-y">
    <div class="large-6 cell"></div>
    <div class="large-6 cell"><span class="prev">Previous</span>
      <a href="/code/custom-vuforia-vumarks-to-identify-iot-devices-with-hololens">Custom Vuforia VuMarks to identify and monitor IoT Devices with HoloLens</a></div>
  </div>
</div>

<div class="large-12 cell">
  <div class="top"><a href="#" class="top">Top</a></div>
</div></div>
  </div>

  <!-- scripts --><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-140437-35"></script>
<script>
  window.dataLayer = window.dataLayer || [];

  function gtag() {
    dataLayer.push(arguments);
  }
  gtag('js', new Date());
  gtag('config', 'UA-140437-35');
</script></body>

</html>