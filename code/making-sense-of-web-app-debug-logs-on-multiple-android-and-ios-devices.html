<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="description" content="If you’ve ever needed to debug Cordova web apps on iOS and Android it can be quite an awful experience for a web developer. Since working on Postcard web app I’ve found a couple of neat tips to help make sense of those noisy debug logs. From localhost to native...">
  <title>Making sense of web app debug logs on multiple Android and iOS devices</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="/assets/main.css" rel="stylesheet">
  <!-- feed -->
  <link rel="alternate" title="Deadlyfingers.net" type="application/json" href="https://www.deadlyfingers.net/search/feed.json" />
  <link type="application/atom+xml" rel="alternate" href="https://www.deadlyfingers.net/feed.xml" title="Deadlyfingers.net" />
</head>

<body>
  <div class="grid-container">
    <!-- nav -->
    <div class="grid-x">
  <div class="small-6 cell">
    <h1><a href="/">Deadlyfingers.net</a></h1>
  </div>
  <div class="small-6 cell right">
    <div class="icons">
      <a class="icon twitter" href="https://twitter.com/deadlyfingers"></a>
      <a class="icon github" href="https://github.com/deadlyfingers"></a>
      <a class="icon youtube" href="https://youtube.com/deadlyfingerstv"></a>
    </div>
  </div>
  <div class="small-12 medium-6 large-3 cell">
    
    <div class="searchbar">
  <form id="search_form" method="GET" action="/search/">
    <input id="search" name="q" type="search" placeholder="search site" list="search_tags" />
    <button type="submit" value="Search"><i class="icon search"></i></button>
    <datalist id="search_tags">
      
      <option value="Azure" />
      
      <option value="Blog" />
      
      <option value="Wordpress" />
      
      <option value="Website" />
      
      <option value="Android" />
      
      <option value="Mobile Services" />
      
      <option value="App Store" />
      
      <option value="Apps" />
      
      <option value="Gaming" />
      
      <option value="Windows" />
      
      <option value="iPad" />
      
      <option value="iPhone" />
      
      <option value="Windows Phone" />
      
      <option value="GameDev" />
      
      <option value="Unity3d" />
      
      <option value="Visual Studio" />
      
      <option value="iOS" />
      
      <option value="Ember-CLI" />
      
      <option value="Azure-CLI" />
      
      <option value="Cordova" />
      
      <option value="WebApp" />
      
      <option value="Design" />
      
      <option value="Responsive Design" />
      
      <option value="RWD" />
      
      <option value="App Services" />
      
      <option value="Javascript" />
      
      <option value="Polymer" />
      
      <option value="Web Components" />
      
      <option value="Alamofire" />
      
      <option value="Argo" />
      
      <option value="JSON" />
      
      <option value="Swift" />
      
      <option value="Git" />
      
      <option value="Blob Storage" />
      
      <option value="Application Insights" />
      
      <option value="Ibex Dashboard" />
      
      <option value="Data Visualisation" />
      
      <option value="Bots" />
      
      <option value="Log Analytics" />
      
      <option value="UWP" />
      
      <option value="Web Sockets" />
      
      <option value="Mixed Reality" />
      
      <option value="HoloLens" />
      
      <option value="IoT" />
      
      <option value="VuForia" />
      
      <option value="VuMark" />
      
      <option value="GitHub Pages" />
      
      <option value="Jekyll" />
      
      <option value="Ruby" />
      
      <option value="Markdown" />
      
    </datalist>
  </form>
</div>
    
  </div>
</div>
    <!-- body content -->
    <div class="grid-x grid-margin-x">
      <div id="post" class="large-8 cell post">
  
  <time datetime="2015-11-13T16:39:00+00:00" class="date">13 Nov 2015</time>
  
  <h1 class="post-title">Making sense of web app debug logs on multiple Android and iOS devices</h1>
  <div class="post-line"></div>
  <p>If you’ve ever needed to debug Cordova web apps on iOS and Android it can be quite an awful experience for a web developer. Since working on <a href="https://github.com/thaliproject/postcardapp">Postcard web app</a> I’ve found a couple of neat tips to help make sense of those noisy debug logs.</p>

<h2 id="from-localhost-to-native-land">From localhost to native land</h2>

<p>Designing and developing in localhost is familiar territory to web developers and so it makes sense to try and get as much work done there as possible. But when you need to use the physical hardware features of a mobile platform the only way to see if things really work is to go native.</p>

<p>For Cordova app development on Android there are a few ways to debug web apps but usually it’s a case of <code class="highlighter-rouge">cordova build android</code> then <code class="highlighter-rouge">cordova run android --device --debug</code>. Then if you have setup Android SDK’s PATH environment var you can run <code class="highlighter-rouge">monitor</code> in command line to open up the Android Device Monitor app to see all the logs.</p>

<p><img src="/assets/images/AndroidDeviceMonitor.jpg" alt="AndroidDeviceMonitor" /></p>

<p>For Cordova app development on iOS it’s usually <code class="highlighter-rouge">cordova build ios</code> in Terminal and then you just open the project in Xcode to debug the app.</p>

<p><img src="/assets/images/XcodeLogs.jpg" alt="XcodeLogs" /></p>

<p>Both these options allow you to run and debug multiple devices although you have to tab or switch views to see the other devices logs. Also Android logs are so noisy it’s almost impossible to spot the stuff you want to look at. Ideally I would like to look at all logs at the same time and dial in on the stuff I’m really interested in.</p>

<p>While developing the <a href="https://github.com/thaliproject/postcardapp">Postcard app</a> I mocked up the UX flow to perform an Identity Exchange with two devices using our peer to peer <a href="https://github.com/thaliproject/Thali_CordovaPlugin">Thali Cordova plugin for iOS and Android</a>. Needless to say the Android logs got very busy and I also wanted to be able to get the logs of iOS devices outside of Xcode sessions. Thankfully there are a couple of better ways to debug multiple Android and iOS devices from one Mac —</p>

<h2 id="debugging-cordova-web-apps-on-multiple-android-devices-using-adb-and-logcat-filtering">Debugging Cordova web apps on multiple Android devices using <strong>adb and logcat filtering</strong></h2>

<p>List android devices attached:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>adb devices
</code></pre></div></div>

<p>Because I have two android devices attached I want to be able to target both from command line.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cordova run android <span class="nt">--debug</span> <span class="nt">--target</span><span class="o">=</span>ZX1C224H9F 
cordova run android <span class="nt">--debug</span> <span class="nt">--target</span><span class="o">=</span>YT91138019
</code></pre></div></div>

<p>Once Cordova has installed the app on device you can use <strong>logcat</strong> to see the logs in Terminal. However with multiple devices you want to use <code class="highlighter-rouge">adb -s</code> to target a device and then use <code class="highlighter-rouge">logcat -s</code> to filter out all the noise! With the Postcard app we are using <a href="http://jxcore.io/">jxcore</a> to run Node.js on mobile so I used ‘jxcore-log:*’ as my filter.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>adb <span class="nt">-s</span> YT91138019 logcat <span class="nt">-s</span> jxcore-log:<span class="se">\*</span>
</code></pre></div></div>

<p>In another Terminal tab or split window in <a href="https://www.iterm2.com/downloads.html">iTerm</a>.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>adb <span class="nt">-s</span> ZX1C224H9F logcat <span class="nt">-s</span> jxcore-log:<span class="se">\*</span>
</code></pre></div></div>

<p><img src="/assets/images/logcat-jxcore.jpg" alt="logcat-jxcore" /></p>

<p>Now that’s much cleaner and stuff doesn’t scroll faster than you can actually read! ;)</p>

<p>Assuming the Android device is already <a href="https://developer.chrome.com/devtools/docs/remote-debugging">developer enabled</a> you can also inspect the web view and javascript console logs in <a href="https://www.google.co.uk/chrome/browser/desktop/">Chrome</a>: <a href="chrome://inspect/#devices">chrome://inspect/#devices</a></p>

<h2 id="debugging-cordova-web-apps-on-multiple-ios-devices-using-ios-console">Debugging Cordova web apps on multiple iOS devices using <strong>iOS Console</strong></h2>

<p>With iOS all you need to do is attach your devices and download <a href="http://lemonjar.com/iosconsole">iOS Console</a> which is a handy freeware app to view iOS logs on a Mac with filtering. With our iOS Postcard app I have set the filter to ‘jxcore’.</p>

<p><img src="/assets/images/iOSConsole-logs.jpg" alt="iOSConsole-logs" /></p>

<p><strong>iOS Console</strong> doesn’t need Xcode running and the logs are a lot cleaner than the default Console app.</p>

<p>Also you can inspect the web view and javascript console in Safari once the app is running. In Safari browser go to:<br />
<strong>Safari &gt; Preferences &gt; Advanced</strong> and turn on “Show Develop menu in menu bar” then select:<br />
<strong>Safari &gt; Developer &gt; Device Name</strong></p>

<p>Note: If you are using mobile Safari to test your web app instead of Cordova then you will have to enable “Web Inspector” on the iOS device under <strong>Settings &gt; Safari &gt; Advanced</strong></p>


</div>

<div class="large-4 cell">
  <!-- disqus comments -->



<h6>Comments</h6>
<div id="disqus_thread"></div>
<script>
  //*
  var disqus_config = function () {
    this.page.identifier =
      "5665485637";
    this.page.url = window.location.href;
  };
  //*/
  (function () {
    var d = document,
      s = d.createElement('script');
    s.async = true;
    s.src = 'https://deadlyfingers.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

</div>

<div id="pagination" class="large-12 cell">
  <div>
    <a href="https://www.deadlyfingers.net/code/making-sense-of-web-app-debug-logs-on-multiple-android-and-ios-devices">Making sense of web app debug logs on multiple Android and iOS devices</a>
    <span>
      
      <span>by David Douglas</span>
      
    </span>
  </div>
  <ul class="tags">
    
    
    <li><a href="/tag/android">Android</a></li>
    
    <li><a href="/tag/cordova">Cordova</a></li>
    
    <li><a href="/tag/ios">iOS</a></li>
    
  </ul>

  <div class="grid-x grid-margin-x grid-padding-y">
    <div class="large-6 cell">
      
      <span class="next">Next</span>
      <a href="/code/responsive-design">Responsive Design from problem to production</a>
      
    </div>
    <div class="large-6 cell">
      
      <span class="prev">Previous</span>
      <a href="/code/faster-cordova-web-app-deployment-with-hotwire-script">Faster Cordova web app deployment with hotwire script</a>
      
    </div>
  </div>
  <div class="top"><a href="#" class="top">Top</a></div>
</div>
    </div>
  </div>

  <!-- scripts -->
  <!-- Global site tag (gtag.js) - Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-140437-35"></script>
<script>
  window.dataLayer = window.dataLayer || [];

  function gtag() {
    dataLayer.push(arguments);
  }
  gtag('js', new Date());
  gtag('config', 'UA-140437-35');
</script>

</body>

</html>